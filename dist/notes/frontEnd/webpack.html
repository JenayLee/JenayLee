<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack | Jenay Lee</title>
    <meta name="description" content="Jenay&#39;s blog">
    <link el="icon" href="/JenayLee/images/favicon.ico">
    
    <link rel="preload" href="/JenayLee/assets/css/0.styles.4a24a66c.css" as="style"><link rel="preload" href="/JenayLee/assets/js/app.2395ff3b.js" as="script"><link rel="preload" href="/JenayLee/assets/js/16.8ec68afb.js" as="script"><link rel="prefetch" href="/JenayLee/assets/js/10.db74f493.js"><link rel="prefetch" href="/JenayLee/assets/js/11.12585d21.js"><link rel="prefetch" href="/JenayLee/assets/js/12.6ea7d739.js"><link rel="prefetch" href="/JenayLee/assets/js/13.b9d97b4b.js"><link rel="prefetch" href="/JenayLee/assets/js/14.62911559.js"><link rel="prefetch" href="/JenayLee/assets/js/15.12806b67.js"><link rel="prefetch" href="/JenayLee/assets/js/17.43d29e4a.js"><link rel="prefetch" href="/JenayLee/assets/js/2.67ebb28d.js"><link rel="prefetch" href="/JenayLee/assets/js/3.7af93362.js"><link rel="prefetch" href="/JenayLee/assets/js/4.94a1600a.js"><link rel="prefetch" href="/JenayLee/assets/js/5.e2326b1f.js"><link rel="prefetch" href="/JenayLee/assets/js/6.6c9f0b09.js"><link rel="prefetch" href="/JenayLee/assets/js/7.9cb18285.js"><link rel="prefetch" href="/JenayLee/assets/js/8.b6645daf.js"><link rel="prefetch" href="/JenayLee/assets/js/9.44302646.js">
    <link rel="stylesheet" href="/JenayLee/assets/css/0.styles.4a24a66c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JenayLee/" class="home-link router-link-active"><!----> <span class="site-name">Jenay Lee</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JenayLee/dist/notes/frontEnd/checking.html" class="nav-link">Notes</a></div><div class="nav-item"><a href="/JenayLee/dist/about/" class="nav-link">About</a></div><div class="nav-item"><a href="https://github.com/JenayLee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JenayLee/dist/notes/frontEnd/checking.html" class="nav-link">Notes</a></div><div class="nav-item"><a href="/JenayLee/dist/about/" class="nav-link">About</a></div><div class="nav-item"><a href="https://github.com/JenayLee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/JenayLee/dist/notes/frontEnd/checking.html" class="sidebar-link">自检清单</a></li><li><a href="/JenayLee/dist/notes/frontEnd/webpack.html" class="active sidebar-link">Webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JenayLee/dist/notes/frontEnd/webpack.html#什么是webpack" class="sidebar-link">什么是webpack</a></li><li class="sidebar-sub-header"><a href="/JenayLee/dist/notes/frontEnd/webpack.html#实例" class="sidebar-link">实例</a></li></ul></li><li><a href="/JenayLee/dist/notes/frontEnd/axios.html" class="sidebar-link">Axios</a></li><li><a href="/JenayLee/dist/notes/frontEnd/vue.html" class="sidebar-link">Vue</a></li><li><a href="/JenayLee/dist/notes/frontEnd/react.html" class="sidebar-link">React</a></li><li><a href="/JenayLee/dist/notes/frontEnd/angular.html" class="sidebar-link">Angular</a></li><li><a href="/JenayLee/dist/notes/frontEnd/flutter.html" class="sidebar-link">Flutter</a></li><li><a href="/JenayLee/dist/notes/frontEnd/optimize.html" class="sidebar-link">优化</a></li><li><a href="/JenayLee/dist/notes/frontEnd/async.html" class="sidebar-link">异步编程</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>后端</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/JenayLee/dist/notes/backEnd/C.html" class="sidebar-link">Java</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="webpack">Webpack</h1> <h2 id="什么是webpack">什么是webpack</h2> <ol><li>webpack是一个模块打包工具（module bundler）。</li> <li>js文件通过script标签静态引入，js文件之间由于没有强依赖关系，如果文件1要用到文件2的某些方法或变量，则必须将文件1放到文件2后面加载。
随着项目的增大，js文件之间的依赖关系越发错综复杂，维护难度也越来越高。
因此引入&quot; 模块 &quot;的概念让js文件之间相互引用，而不用担心文件间的排列顺序。
基于这种理念，CommonJS和AMD规范被创造，然后有了require.js、system.js这样的前端模块加载工具和node的模块系统，直到现在流行的es6 module。</li> <li>模块的引入解决了文件之间依赖引用的问题，而打包则解决了文件过多的问题。</li> <li>bundler可以把多个关联的文件打包到一起从而大量减少文件的数量提供网页加载性能。</li> <li>提供模块化的开发方式和编译打包功能是webpack的核心。</li></ol> <h3 id="核心概念">核心概念</h3> <h4 id="_1-module-模块">1. Module(模块)</h4> <p>对于webpack，模块不仅仅是JavaScript模块，它包括了任何类型的源文件，不管是图片、字体、json文件等。
webpack支持一下的方式引用模块:</p> <ul><li>ES2015 <code>import</code>方法</li> <li>CommonJS <code>require()</code>方法</li> <li>AMD <code>define</code>和<code>require</code>语法</li> <li>css/sass/less文件中的<code>@import</code>语法</li> <li><code>url(...)</code>和<code>&lt;img src=...&gt;</code>中的图片路径</li></ul> <h4 id="_2-dependency-graph-依赖关系图">2. Dependency Graph(依赖关系图)</h4> <p>所谓的依赖关系图是webpack根据每个模块之间的依赖关系递归生成的一张内部逻辑图，有了这张依赖关系图，
webpack就能按图索骥把所有需要模块打包成一个bundler文件了。</p> <h4 id="_3-entry-入口">3. Entry(入口)</h4> <p>绘制依赖关系图的起始文件被称为entry。默认的entry为<code>./src/index.js</code>，或者我们可以在配置文件中配置。
entry可以为一个也可以为多个。</p> <ul><li>单个entry:</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>或者</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        main<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>多个entry，多个chunk</li></ul> <p>如果有多个entry，并且每个entry生成对应的chunk，我们需要传入object：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        app<span class="token punctuation">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
        admin<span class="token punctuation">:</span> <span class="token string">'./src/admin.js'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这种写法有最好的灵活性和扩展性，支持和其他的局部配置进行合并。比如将开发环境和生产的配置
分离，并抽离出公共的配置，在不同的环境下运行时再将环境配置和公共配置进行合并。</p> <h4 id="_4-output-出口">4. Output(出口)</h4> <p>有了入口，对应的就有出口。顾名思义，出口就是webpack打包完成的输出，output定义了输出的路径
和文件名称。webpack默认的输出路径为<code>./dist/main.js</code>。同样，我们可以在配置文件中配置output：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> __dirname <span class="token operator">+</span> <span class="token string">'./dist'</span><span class="token punctuation">,</span>
        filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>多个entry的情况</li></ul> <p>当有多个entry的时候，一个entry应该对应一个output，此时输出的文件名需要使用替换符声明以确保文件名
的唯一性，例如使用入口模块的名称：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        app<span class="token punctuation">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
        search<span class="token punctuation">:</span> <span class="token string">'./src/search.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        filename<span class="token punctuation">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span>
        path<span class="token punctuation">:</span> __dirname <span class="token operator">+</span> <span class="token string">'/dist'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最终在<code>./dist</code>路径下面会生成<code>app.js</code>和<code>search.js</code>两个bundle文件。</p> <h4 id="_5-loader-加载器">5. Loader(加载器)</h4> <p>webpack自身只支持加载js和json模块，而webpack的理念是让所有的文件都能被引用和加载并生成
依赖关系图，所以loader出场了。Loader能让webpack能够处理其他类型的文件（比如图片、字体文件、xml）。
我们可以在配置文件中这样定义一个loader：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            test<span class="token punctuation">:</span> <span class="token regex">/\.txt$/</span><span class="token punctuation">,</span>
            use<span class="token punctuation">:</span> <span class="token string">'raw-loader'</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中<code>test</code>定义了需要被转化的文件或者文件类型，<code>use</code>定义了对该文件进行转化的loader的类型。
该条配置相当于告诉webpack当遇到一个txt文件的引用时（使用require或者import进行引用），先
用<code>raw-loader</code>转换一下该文件再把它打包进bundle。
还有其他各种类型的loader，比如加载css文件的<code>css-loader</code>，加载图片和字体文件的<code>file-loader</code>，
加载html文件的<code>html-loader</code>，将最新JS语法转换成ES5的<code>babel-loader</code>等等。</p> <h4 id="_6-plugin-插件">6. Plugin(插件)</h4> <p>Plugin和loader是两个比较混淆和模糊的概念。Loader是用来转换和加载特定类型的文件，所以loader
的执行层面是单个的源文件。而Plugin可以实现的功能更强大，Plugin可以监听webpack处理过程中的关键
事件，深度集成进webpack的编译器，可以说Plugin的执行层面是整个构建过程。Plugin系统是构成webpack
的主干，webpack自身也基于Plugin系统搭建，webpack有丰富的内置插件和外部插件，并且允许用户自定义
插件。与loader不同，使用Plugin我们必须先引用该插件：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用于引用webpack内置插件</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 外部插件</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>template<span class="token punctuation">:</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="实例">实例</h2> <ol><li>创建项目</li></ol> <p>首先创建<code>react-webpack-starter</code>项目并使用<code>npm init</code>初始化</p> <ol start="2"><li>安装依赖</li></ol> <ul><li>安装react</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i react react<span class="token operator">-</span>dom
</code></pre></div><ul><li>安装webpack相关</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i <span class="token operator">-</span><span class="token constant">D</span> webpack webpack<span class="token operator">-</span>cli webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin style<span class="token operator">-</span>loader css<span class="token operator">-</span>loader
</code></pre></div><p>安装<code>webpack-cli</code>后可以在命令行执行webpack命令；
<code>webpack-dev-server</code>提供了简易的web服务器，
并且在修改文件之后自动执行webpack的编译操作并自动刷新浏览器，省去了重复的手动操作；
<code>html-webpack-plugin</code>用于自动生成<code>index.html</code>，并且在<code>index.html</code>中自动添加
对bundle文件的引用；<code>style-loader</code>和<code>css-loader</code>用于加载css文件。</p> <ul><li>安装babel相关</li></ul> <p>由于react中使用了<code>class</code>，<code>import</code>这样的es6的语法，为了提高网站的浏览器兼容性，
我们需要用babel转换一下。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm i <span class="token operator">-</span><span class="token constant">D</span> @babel<span class="token operator">/</span>core @babel<span class="token operator">/</span>preset<span class="token operator">-</span>env @babel<span class="token operator">/</span>preset<span class="token operator">-</span>react babel<span class="token operator">-</span>loader
</code></pre></div><p>其中<code>@babel/core</code>是babel的核心模块，包含了babel的核心功能；<code>@babel/preset-env</code>
支持转换ES6以及更新的js语法，并且可根据需要兼容的浏览器类型选择加载的Plugin从而精简
生成的代码；<code>@babel/preset-react</code>包含了babel转换react所需要的Plugin；
<code>babel-loader</code>是webpack的babel加载器。</p> <ul><li>配置webpack</li></ul> <p>在项目根目录下新建<code>webpack.config.js</code>，内容如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
                exclude<span class="token punctuation">:</span> <span class="token regex">/node_module/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span> <span class="token string">'base-loader'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
                use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span> <span class="token comment">// 注意排列顺序，执行顺序与排列顺序相反</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            template<span class="token punctuation">:</span> <span class="token string">'./src/index.html'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中<code>HtmlWrbpackPlugin</code>使用自定义的模板来生成html文件，模板的内容如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ./src/index.html</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">'en'</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">'UTF-8'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">'viewport'</span> content<span class="token operator">=</span><span class="token string">'width=device-width,initial-scle=1.0'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">'X-UA-Compatible'</span> content<span class="token operator">=</span><span class="token string">'ie=edge'</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>My React App<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">'app'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><ul><li>配置babel</li></ul> <p>在项目根目录下新建<code>.babelrc</code>文件，配置我们安装的两个babel preset:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// .babelrc</span>

<span class="token punctuation">{</span>
    <span class="token string">'presets'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span>
        <span class="token string">'@babel/preset-react'</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>生成react应用根节点</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ./src/index</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./components/App'</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ./src/component/App.js</span>

<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./App.css'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                my react webpack starter
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* ./src/components/App.css */</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bolder<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">text-transform</span><span class="token punctuation">:</span> uppercase<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>配置 <code>package.json</code></li></ul> <p>最后，在<code>package.json</code>文件里加上两个scripts，用来运行开发服务器和打包：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// package.json</span>

<span class="token string">'scripts'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'start'</span><span class="token punctuation">:</span> <span class="token string">'webpack-dev-server --mode development --open --hot'</span><span class="token punctuation">,</span>
    <span class="token string">'build'</span><span class="token punctuation">:</span> <span class="token string">'webpack --mode production'</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/JenayLee/dist/notes/frontEnd/checking.html" class="prev">
          自检清单
        </a></span> <span class="next"><a href="/JenayLee/dist/notes/frontEnd/axios.html">
          Axios
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/JenayLee/assets/js/app.2395ff3b.js" defer></script><script src="/JenayLee/assets/js/16.8ec68afb.js" defer></script>
  </body>
</html>
